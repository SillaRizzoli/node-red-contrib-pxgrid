<script type="text/x-red" data-template-name="pxgrid-sessions">
    <div class="form-row">
        <label for="node-input-pxgridconf" style="width: 110px;"><i class="fa fa-bookmark"></i> Pxgrid Server</label>
        <input type="text" id="node-input-pxgridconf">
    </div>
    <div class="form-row">
        <label for="node-input-name" style="width: 110px;"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="pxgrid-sessions">
    <p>Connects to a server using the pxGrid protocol and receives new RADIUS sessions as JSON objects.</p>
    <p>If the message received is JSON <code>msg.payload</code> will be parsed into an
    object. If not it will be the raw data.</p>
    <p><a href="https://developer.cisco.com/docs/pxgrid/#!learning-pxgrid" target="new">Cisco pxGrid 2.0 docs</a></p>
</script>

<script type="text/javascript">
    RED.nodes.registerType('pxgrid-sessions',{
        category: 'input',
        defaults: {
            name: {value:""},
            pxgridconf: {value:"", type:"pxgridconf", required:true}
        },
        color:"#0091FF",
        inputs:0,
        outputs:1,
        icon: "bridge.png",
        label: function() {
            return this.name||"pxgrid sessions";
        },
        labelStyle: function() {
            return (this.name)?"node_label_italic":"";
        }
    });
</script>

<script type="text/x-red" data-template-name="pxgrid-radius-failures">
    <div class="form-row">
        <label for="node-input-pxgridconf" style="width: 110px;"><i class="fa fa-bookmark"></i> Pxgrid Server</label>
        <input type="text" id="node-input-pxgridconf">
    </div>
    <div class="form-row">
        <label for="node-input-name" style="width: 110px;"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="pxgrid-radius-failures">
    <p>Connects to a server using the pxGrid protocol and receives RADIUS failed attempts as JSON objects.</p>>
    <p><a href="https://developer.cisco.com/docs/pxgrid/#!learning-pxgrid" target="new">Cisco pxGrid 2.0 docs</a></p>
</script>

<script type="text/javascript">
    RED.nodes.registerType('pxgrid-radius-failures',{
        category: 'input',
        defaults: {
            name: {value:""},
            pxgridconf: {value:"", type:"pxgridconf", required:true}
        },
        color:"#0091FF",
        inputs:0,
        outputs:1,
        icon: "bridge.png",
        label: function() {
            return this.name||"pxgrid radius failures";
        },
        labelStyle: function() {
            return (this.name)?"node_label_italic":"";
        }
    });
</script>

<script type="text/x-red" data-template-name="pxgridconf">
    <div class="form-row node-config-input-pxgridserver">
        <label for="node-config-input-pxgridserver"><i class="fa fa-bookmark"></i> Server</label>
        <input class="input-append-left" type="text" id="node-config-input-pxgridserver" placeholder="pxGrid server FQDN" style="width: 45%;" >
    </div>
    <div class="form-row node-config-input-clientname">
        <label for="node-config-input-clientname"><i class="fa fa-bookmark"></i> Client Name</label>
        <input class="input-append-left" type="text" id="node-config-input-clientname" placeholder="Client Name" style="width: 45%;" >
    </div>
    <div class="form-row node-config-input-tls">
        <div id="node-config-row-tls">
            <label style="width: auto; margin-left: 20px; margin-right: 10px;" for="node-config-input-tls">TLS Configuration</label>
            <span data-i18n="pxgridconf.label.tls-config"></span>
            <input style="width: 300px;" type="text" id="node-config-input-tls">
        </div>
    </div>
    <div class="form-row node-config-input-name>
        <label for="node-config-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-config-input-name" placeholder="Name">
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('pxgridconf',{
        category: 'config',
        defaults: {
            pxgridserver: {required:true},
            clientname: {required:true},
            tls: {type:"tls-config", required:true},
            name: {required:false}
        },
        label: function() {
            return (this.name?this.name:this.server);
        }/*,
        oneditprepare: function () {
            if (typeof this.usetls === 'undefined') {
                this.usetls = false;
                $("#node-config-input-usetls").prop("checked",false);
            }
            function updateTLSOptions() {
                if ($("#node-config-input-usetls").is(':checked')) {
                    $("#node-config-row-tls").show();
                } else {
                    $("#node-config-row-tls").hide();
                }
            }
            updateTLSOptions();
            $("#node-config-input-usetls").on("click",function() {
                updateTLSOptions();
            });
        },
        oneditsave: function() {
                $("#node-config-input-tls").val("");
        }*/
    });
</script>